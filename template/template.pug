doctype html
html
  head
    meta(charset="utf-8")
    title Index of #{directory}
    style!= style
  body
    h1#path= directory
    table#listing
      tr
        th.listing_name Name
        th.listing_size Size
        th.listing_mtime Modified
      each file in fileList
        - const isDir = file.stat.isDirectory()
        - const trailingSlash = isDir ? "/" : ""
        tr
          td.listing_name
            a(href= encodeURIComponent(file.name) + trailingSlash)= file.name + trailingSlash
          td.listing_size= isDir ? "-" : file.sizeString
          td.listing_mtime= file.stat.mtime.toISOString().replace(/T|Z/g, " ").replace(/\.\d{3}/, "")
    if argv.footer
      footer
        p zstatic #{zstatic.version}
